FROM node:alpine
WORKDIR /app
COPY package.json package-lock.json ./
RUN npm install
ARG NETWORK
ENV NETWORK ${NETWORK}
ARG BLOCKCHAIN_API
ENV BLOCKCHAIN_API ${BLOCKCHAIN_API}
ARG PROFILE_API
ENV PROFILE_API ${PROFILE_API}
ARG SSR_BACKEND_API
ENV SSR_BACKEND_API ${SSR_BACKEND_API}
COPY . .
RUN npm run build
ENTRYPOINT [ "npm", "start"]